(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{22:function(t,e,n){t.exports=n(34)},31:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(8),u=n.n(a),o=n(4),i=n(21),s=(n(31),n(5)),l=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return t}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_QUERY":return e.query;default:return t}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INIT_POSTS":return e.posts;default:return t}},d=function(t){return t.loading},m=function(t){return t.posts},v=function(t){return t.query},b=function(t){return t.posts.filter((function(e){return e.title.includes(t.query)}))},h=Object(s.combineReducers)({loading:l,posts:p,query:f}),y=n(12),E=n.n(y),g=n(15),O=n(19),I=function(t){return fetch("".concat("https://mate-academy.github.io/react_dynamic-list-of-posts/api/").concat(t,".json")).then((function(t){return t.json()}))},j=function(){var t=Object(O.a)(E.a.mark((function t(){var e,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I("/posts");case 2:return e=t.sent,t.next=5,I("/users");case 5:return n=t.sent,t.next=8,I("/comments");case 8:return r=t.sent,t.abrupt("return",e.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{user:n.find((function(e){return e.id===t.userId})),comments:r.filter((function(e){return e.postId===t.id}))})})));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(o.b)(),e=Object(o.c)(v);return c.a.createElement("div",{className:"form-group mt-4"},c.a.createElement("input",{className:"form-control",type:"text",value:e,onChange:function(e){var n=e.target;return t(function(t){return{type:"SET_QUERY",query:t}}(n.value))}}))},x=function(t){var e=t.text,n=t.disabled,r=void 0!==n&&n,a=t.onClick,u=t.status,o=void 0===u?"primary":u;return c.a.createElement("button",{className:"btn btn-outline-".concat(o),type:"button",onClick:a,disabled:r},e)},S=function(){var t=Object(o.c)(b);return c.a.createElement("ul",null,t.map((function(t){var e=t.title,n=t.id;return c.a.createElement("li",{key:n},e)})))},T=function(){var t=Object(o.b)(),e=Object(o.c)(m),n=Object(o.c)(d);return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"text-center"},"Redux list of posts",e.length),!e.length&&c.a.createElement(x,{text:n?"Loading...":"Init data",disabled:n,onClick:function(){t({type:"START_LOADING"}),j().then((function(e){t(function(t){return{type:"INIT_POSTS",posts:t}}(e))})).finally((function(){t({type:"FINISH_LOADING"})}))}}),e.length>0&&c.a.createElement(N,null),e.length>0&&c.a.createElement(S,null)))},_=n(20),k=Object(s.createStore)(h,Object(_.composeWithDevTools)()),w=function(){return c.a.createElement(o.a,{store:k},c.a.createElement(i.a,null,c.a.createElement(T,null)))};u.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.650b5171.chunk.js.map